webpackJsonp([1],{"7xIN":function(t,e){},"8f+P":function(t,e){},Dk8a:function(t,e){},HbV9:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IvJb"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("C7Lr")({name:"App"},i,!1,function(t){a("yqjL")},null,null).exports,o=a("zO6J"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserInfo"}},[a("div",{staticClass:"userInfo"},[a("div",{staticClass:"bar"},[a("span",[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[a("img",{attrs:{src:t.user.avatar_url}}),t._v(" "),a("router-link",{attrs:{to:{path:"/user/"+t.user.loginname,params:{}}}},[t._v("\n          "+t._s(t.user.loginname)+"\n        ")])],1),t._v(" "),a("p",[t._v("积分:"+t._s(t.user.score))])])])])},staticRenderFns:[]};var c=a("C7Lr")({name:"UserInfo",props:["user","title"],components:{},data:function(){return{}},methods:{},mounted:function(){}},r,!1,function(t){a("lU0O")},null,null).exports,l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"CreateTopic"}},[e("div",{staticClass:"CreateTopic"},[e("div",{staticClass:"btn"},[e("router-link",{attrs:{to:{path:"/createtopic",params:{}}}},[this._v("发布话题")])],1)])])},staticRenderFns:[]};var u=a("C7Lr")({name:"CreateTopic",components:{},data:function(){return{}},methods:{},mounted:function(){}},l,!1,function(t){a("Osxm")},null,null).exports,v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"NoReply"}},[a("div",{staticClass:"found"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},t._l(t.replies,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1)])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("无人回复的话题")])])}]};var d=a("C7Lr")({name:"NoReply",components:{},data:function(){return{replies:[],num:1}},methods:{},mounted:function(){var t=this;this.axios({method:"GET",url:"https://cnodejs.org/api/v1/topics",params:{page:"",tab:"",limit:"100",mdrender:""}}).then(function(e){for(var a=e.data.data,s=0;s<a.length;s++){if(!(t.replies.length<5))return;0==a[s].reply_count&&t.replies.push(a[s])}}).catch(function(t){})}},v,!1,function(t){a("ZAek")},null,null).exports,p={name:"GoTop",components:{},data:function(){return{Top:""}},methods:{scrollTop:function(){this.Top=document.documentElement.scrollTop},goTop:function(){var t=null;clearInterval(t),t=setInterval(function(){var e=document.documentElement.scrollTop,a=Math.floor(-e/30);document.documentElement.scrollTop=e+a,0==e&&clearInterval(t)},1)}},mounted:function(){window.addEventListener("scroll",this.scrollTop)}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"GoTop"}},[e("div",{staticClass:"gotop",class:{show:this.Top>300},on:{click:this.goTop}},[this._v("\n    返回顶部\n  ")])])},staticRenderFns:[]};var m=a("C7Lr")(p,h,!1,function(t){a("8f+P")},null,null).exports,_={name:"MainPage",components:{UserInfo:c,CreateTopic:u,NoReply:d,GoTop:m},data:function(){return{iconList:[{text:"全部",name:"all",index:0},{text:"精华",name:"good",index:1},{text:"分享",name:"share",index:2},{text:"问答",name:"ask",index:3},{text:"招聘",name:"job",index:4},{text:"客户端测试",name:"dev",index:5}],isActive:"",topic:"",itemList:"",tab:this.$route.query.tab?this.$route.query.tab:"",time:[],accesstoken:"",me:"",user:"",score:"",loginname:"",currentPage:this.$route.query.page?this.$route.query.page:1}},methods:{handleCurrentChange:function(t){this.$router.push({path:"/",query:{tab:this.tab?this.tab:"all",page:t}}),this.init()},choseTopics:function(t){this.tab=t.name,this.currentPage=1,this.$router.push({path:"/",query:{tab:t.name}}),this.init()},init:function(){var t=this;this.itemList="",this.axios({method:"GET",url:"https://cnodejs.org/api/v1/topics",params:{page:this.$route.query.page?this.$route.query.page:"",tab:this.$route.query.tab?this.$route.query.tab:"",limit:"40",mdrender:""}}).then(function(e){var a=e.data.data;t.isActive=t.$route.query.tab?t.$route.query.tab:"all";for(var s=0;s<a.length;s++)t.time[s]=t.util.formTimeToData(a[s].last_reply_at),a[s].top?a[s].tab="置顶":a[s].good?a[s].tab="精华":"good"==a[s].tab?a[s].tab="精华":"share"==a[s].tab?a[s].tab="分享":"ask"==a[s].tab?a[s].tab="问答":"job"==a[s].tab?a[s].tab="招聘":"dev"==a[s].tab&&(a[s].tab="测试");t.itemList=a}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.util.setCookie("accesstoken","0ebfe0ed-5324-4283-9f4c-1edc3dc8d9ce",30),this.accesstoken=this.util.getCookie("accesstoken"),this.init(),this.axios({method:"POST",url:"https://cnodejs.org/api/v1/accesstoken",data:{accesstoken:this.accesstoken}}).then(function(e){var a=e.data;t.me=a,t.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+t.me.loginname,params:{}}).then(function(e){var a=e.data.data;t.user=a}).catch(function(t){})}).catch(function(t){})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"MainPage"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"navbar"},t._l(t.iconList,function(e,s){return a("div",{staticClass:"icon",class:{active:t.isActive==e.name},on:{click:function(a){t.choseTopics(e)}}},[t._v(t._s(e.text))])})),t._v(" "),a("div",{staticClass:"content"},[t._l(t.itemList,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"num"},[a("span",{attrs:{title:"回复数"}},[t._v(t._s(e.reply_count))]),t._v("/\n          "),a("span",{attrs:{title:"点击数"}},[t._v(t._s(e.visit_count))])]),t._v(" "),a("div",{staticClass:"type",class:{active:e.top||e.good,display:"all"==t.tab||""==t.tab}},[t._v("\n          "+t._s(e.tab)+"\n        ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"topic/"+e.id,params:{}}}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("div",{staticClass:"answer"},[a("router-link",{attrs:{to:{name:"",params:{}}}},[a("span",[t._v(t._s(t.time[s]))])])],1)])}),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":40,layout:"prev, pager, next, jumper",total:1e3},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],2)]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"个人信息"}}),t._v(" "),a("CreateTopic"),t._v(" "),a("NoReply")],1),t._v(" "),a("GoTop")],1)},staticRenderFns:[]};var g=a("C7Lr")(_,f,!1,function(t){a("xSdq")},null,null).exports,C=a("Eq4a"),b=a.n(C),T={name:"Topic",components:{UserInfo:c,NoReply:d,GoTop:m},data:function(){return{dataList:"",releaseTime:"",lastReplyTime:"",authorName:"",replyList:"",replyTime:[],tab:"",accesstoken:"",is_collect:"",user:"",otherTopic:[],editorContent:"",editor:""}},watch:{$route:function(t,e){this.init(),this.editor.txt.clear()}},methods:{getContent:function(){var t=this;this.axios({method:"POST",url:"https://cnodejs.org/api/v1/topic/"+this.$route.params.id+"/replies",data:{accesstoken:this.accesstoken,content:this.editorContent,reply_id:""}}).then(function(e){t.editor.txt.clear(),t.axios({method:"GET",url:"https://cnodejs.org/api/v1/topic/"+t.$route.params.id,params:{accesstoken:t.accesstoken}}).then(function(e){var a=e.data.data;t.dataList=a,t.releaseTime=t.util.formTimeToData(a.create_at),t.lastReplyTime=t.util.formTimeToData(a.last_reply_at);var s=a.replies;t.replyList=s}).catch(function(t){})}).catch(function(t){console.log(t)})},fabulous:function(t){var e=this;this.axios({method:"POST",url:"https://cnodejs.org/api/v1/reply/"+t.id+"/ups",data:{accesstoken:this.accesstoken}}).then(function(t){e.axios({method:"GET",url:"https://cnodejs.org/api/v1/topic/"+e.$route.params.id,params:{accesstoken:e.accesstoken}}).then(function(t){var a=t.data.data;e.replyList=a.replies,a.is_uped=!a.is_uped}).catch(function(t){})}).catch(function(t){console.log(t)})},cancel:function(){var t=this;this.axios({method:"POST",url:"https://cnodejs.org/api/v1/topic_collect/de_collect",data:{accesstoken:this.accesstoken,topic_id:this.dataList.id}}).then(function(e){t.is_collect=!e.data.success}).catch(function(t){console.log(t)})},collection:function(){var t=this;this.axios({method:"POST",url:"https://cnodejs.org/api/v1/topic_collect/collect",data:{accesstoken:this.accesstoken,topic_id:this.dataList.id}}).then(function(e){t.is_collect=e.data.success}).catch(function(t){console.log(t)})},init:function(){var t=this;this.axios({method:"GET",url:"https://cnodejs.org/api/v1/topic/"+this.$route.params.id,params:{accesstoken:this.accesstoken}}).then(function(e){var a=e.data.data;t.dataList=a,t.releaseTime=t.util.formTimeToData(a.create_at),t.lastReplyTime=t.util.formTimeToData(a.last_reply_at),t.authorName=a.author.loginname;var s=a.replies;t.replyList=s,t.is_collect=a.is_collect;for(var i=0;i<s.length;i++)t.replyTime[i]=t.util.formTimeToData(s[i].create_at);"good"==a.tab?t.tab="精华":"share"==a.tab?t.tab="分享":"ask"==a.tab?t.tab="问答":"job"==a.tab?t.tab="招聘":"dev"==a.tab&&(t.tab="测试"),t.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+t.authorName,params:{}}).then(function(e){var a=e.data.data;t.user=a;for(var s=0;t.otherTopic.length<5&&s<a.recent_topics.length;s++)a.recent_topics[s].id!=t.$route.params.id&&t.otherTopic.push(a.recent_topics[s])}).catch(function(t){})}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.accesstoken=this.util.getCookie("accesstoken"),this.init();var e=new b.a("#editorElem");this.editor=e,e.customConfig.onchange=function(e){t.editorContent=e},e.create()}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Topic"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"topic"},[a("div",{staticClass:"head"},[a("div",{staticClass:"text"},[a("div",{staticClass:"title"},[t.dataList.top?a("span",[t._v("置顶")]):t._e(),t._v(" "),t.dataList.good?a("span",[t._v("精华")]):t._e(),t._v(" "),a("b",[t._v(t._s(t.dataList.title))])]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(" 发布于 "+t._s(t.releaseTime)+" ")]),t._v(" "),a("span",[t._v(" 作者 "+t._s(t.authorName))]),t._v(" "),a("span",[t._v(" "+t._s(t.dataList.visit_count)+" 次浏览 ")]),t._v(" "),a("span",[t._v(" 来自 "+t._s(t.tab)+" ")])])]),t._v(" "),this.is_collect?a("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消收藏")]):a("div",{staticClass:"collection",on:{click:t.collection}},[t._v("收藏")])]),t._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.dataList.content)}})]),t._v(" "),0!==t.replyList.length?a("div",{staticClass:"reply"},[a("div",{staticClass:"bar"},[t._v("回复")]),t._v(" "),t._l(t.replyList,function(e,s){return a("div",{staticClass:"replyList"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url}})])],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"userBar"},[a("div",{staticClass:"user"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[t._v("\n                "+t._s(e.author.loginname)+"\n              ")]),t._v("\n              "+t._s(s+1)+"楼\n              "),a("span",[t._v(t._s(t.replyTime[s]))]),t._v(" "),e.author.loginname==t.authorName?a("span",{staticClass:"author"},[t._v(" 作者")]):t._e()],1),t._v(" "),a("div",{staticClass:"icon"},[a("div",{staticClass:"fabulous",class:{display:0==e.ups.length}},[a("span",{staticClass:"iconfont icon-dianzan1",class:{red:e.is_uped},on:{click:function(a){t.fabulous(e)}}}),t._v(" "),0!=e.ups.length?a("span",[t._v(t._s(e.ups.length))]):t._e()]),t._v(" "),a("router-link",{attrs:{to:{name:"",params:{}}}},[a("i",{staticClass:"el-icon-edit"})])],1)]),t._v(" "),a("div",{staticClass:"text",domProps:{innerHTML:t._s(e.content)}})])])})],2):t._e(),t._v(" "),a("div",{staticClass:"write"},[a("div",{staticClass:"topbar"},[t._v("\n        添加回复\n      ")]),t._v(" "),a("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}}),t._v(" "),a("div",{staticClass:"footbar"},[a("div",{staticClass:"btn",on:{click:t.getContent}},[t._v("回  复")])])])]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"作者"}}),t._v(" "),0!=t.otherTopic.length?a("div",{staticClass:"found"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},t._l(t.otherTopic,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)])}))]):t._e(),t._v(" "),a("NoReply")],1),t._v(" "),a("GoTop")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("作者其他话题")])])}]};var y=a("C7Lr")(T,k,!1,function(t){a("Wbw8")},null,null).exports,x={name:"User",components:{UserInfo:c,CreateTopic:u},data:function(){return{user:"",github:"",registrationTime:"",found:[],join:[],collection:""}},methods:{init:function(){var t=this;this.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+this.$route.params.id,params:{}}).then(function(e){var a=e.data.data;t.user=a,t.github="https://github.com/"+a.githubUsername,t.registrationTime=t.util.formTimeToData(a.create_at);for(var s=0;s<5&&s<a.recent_topics.length;s++)t.found[s]=a.recent_topics[s];for(s=0;s<5&&s<a.recent_replies.length;s++)t.join[s]=a.recent_replies[s]}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.init(),this.axios({method:"GET",url:"https://cnodejs.org/api/v1/topic_collect/"+this.$route.params.id,params:{}}).then(function(e){console.log(e),t.collection=e.data.data.length}).catch(function(t){console.log(t)})}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"User"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"Nav"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:{path:"/",params:{}}}},[t._v("主页")]),t._v("/\n        ")],1)]),t._v(" "),a("div",{staticClass:"content"},[a("p",[a("img",{attrs:{src:t.user.avatar_url}}),t._v(" "),a("router-link",{attrs:{to:{name:"",params:{}}}},[t._v(t._s(t.user.loginname))])],1),t._v(" "),a("p",[t._v("积分 : "+t._s(t.user.score))]),t._v(" "),0!==t.collection?a("p",[a("router-link",{attrs:{to:{path:t.user.loginname+"/collections",params:{}}}},[t._v("\n            "+t._s(t.collection)+"个收藏话题\n          ")])],1):a("p",[t._v("该用户没有收藏的话题")]),t._v(" "),t.user.githubUsername?a("p",[t._v("github地址："),a("a",{attrs:{href:t.github,target:"_blank"}},[t._v("@"+t._s(t.user.githubUsername))])]):t._e(),t._v(" "),a("p",[t._v("注册时间: "+t._s(t.registrationTime))])])]),t._v(" "),a("div",{staticClass:"found"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[t._l(t.found,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"type"},[t._v("\n            "+t._s(e.tab)+"\n          ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)])}),t._v(" "),a("div",{staticClass:"more"},[a("router-link",{attrs:{to:{path:t.user.loginname+"/topic",params:{}}}},[t._v("查看更多»")])],1)],2)]),t._v(" "),a("div",{staticClass:"found"},[t._m(1),t._v(" "),a("div",{staticClass:"content"},[t._l(t.join,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"type"},[t._v("\n            "+t._s(e.tab)+"\n          ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)])}),t._v(" "),a("div",{staticClass:"more"},[a("router-link",{attrs:{to:{path:t.user.loginname+"/replies",params:{}}}},[t._v("查看更多»")])],1)],2)])]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"个人信息"}}),t._v(" "),a("CreateTopic")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("最近创建的话题")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("最近参与的话题")])])}]};var L=a("C7Lr")(x,$,!1,function(t){a("ONy7")},null,null).exports,E={name:"Collection",components:{UserInfo:c,CreateTopic:u},data:function(){return{isActive:"",topic:"",itemList:"",tab:this.$route.query.tab?this.$route.query.tab:"",time:[],accesstoken:"",user:"",score:"",loginname:""}},methods:{choseTopics:function(t){this.tab=t.name,this.$router.push({path:"/",query:{tab:t.name}}),this.init()},init:function(){var t=this;this.itemList="",this.axios({method:"GET",url:"https://cnodejs.org/api/v1/topic_collect/"+this.$route.params.id,params:{page:"",tab:this.$route.query.tab?this.$route.query.tab:"",limit:"0",mdrender:""}}).then(function(e){var a=e.data.data;t.isActive=t.$route.query.tab?t.$route.query.tab:"all";for(var s=0;s<a.length;s++)t.time[s]=t.util.formTimeToData(a[s].last_reply_at),a[s].top?a[s].tab="置顶":a[s].good?a[s].tab="精华":"good"==a[s].tab?a[s].tab="精华":"share"==a[s].tab?a[s].tab="分享":"ask"==a[s].tab?a[s].tab="问答":"job"==a[s].tab?a[s].tab="招聘":"dev"==a[s].tab&&(a[s].tab="测试");t.itemList=a}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.init(),this.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+this.$route.params.id,params:{}}).then(function(e){console.log(e);var a=e.data.data;t.user=a,t.score=e.data.data.score}).catch(function(t){})}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Collection"}},[a("div",{staticClass:"Nav"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:{path:"/",params:{}}}},[t._v("主页")]),t._v(" "),a("span",[t._v(t._s(t.user.loginname)+" /  收藏的话题")])],1)]),t._v(" "),a("div",{staticClass:"content"},t._l(t.itemList,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"num"},[a("span",{attrs:{title:"回复数"}},[t._v(t._s(e.reply_count))]),t._v("/\n          "),a("span",{attrs:{title:"点击数"}},[t._v(t._s(e.visit_count))])]),t._v(" "),a("div",{staticClass:"type",class:{active:e.top||e.good,display:"all"==t.tab||""==t.tab}},[t._v("\n          "+t._s(e.tab)+"\n        ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("div",{staticClass:"answer"},[a("router-link",{attrs:{to:{name:"",params:{}}}},[a("span",[t._v(t._s(t.time[s]))])])],1)])}))]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"个人信息"}}),t._v(" "),a("CreateTopic")],1)])},staticRenderFns:[]};var U=a("C7Lr")(E,j,!1,function(t){a("TO/X")},null,null).exports,w={name:"UserReplies",components:{UserInfo:c,CreateTopic:u},data:function(){return{user:"",github:"",registrationTime:"",found:[]}},methods:{init:function(){var t=this;this.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+this.$route.params.id,params:{}}).then(function(e){console.log(e);var a=e.data.data;t.user=a,t.github="https://github.com/"+a.githubUsername,t.registrationTime=t.util.formTimeToData(a.create_at),t.found=a.recent_replies}).catch(function(t){console.log(t)})}},mounted:function(){this.init()}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserReplies"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"Nav"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:{path:"/",params:{}}}},[t._v("主页")]),t._v(" /\n          "),a("router-link",{attrs:{to:{path:"/user/"+t.user.loginname,params:{}}}},[t._v(t._s(t.user.loginname)+"的主页")])],1)])]),t._v(" "),a("div",{staticClass:"found"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},t._l(t.found,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"type"},[t._v("\n            "+t._s(e.tab)+"\n          ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"个人信息"}}),t._v(" "),a("CreateTopic")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("最近参与的话题")])])}]};var N=a("C7Lr")(w,I,!1,function(t){a("HbV9")},null,null).exports,R={name:"UserTopic",components:{UserInfo:c,CreateTopic:u},data:function(){return{user:"",github:"",registrationTime:"",found:[]}},methods:{init:function(){var t=this;this.axios({method:"GET",url:"https://cnodejs.org/api/v1/user/"+this.$route.params.id,params:{}}).then(function(e){console.log(e);var a=e.data.data;t.user=a,t.github="https://github.com/"+a.githubUsername,t.registrationTime=t.util.formTimeToData(a.create_at),t.found=a.recent_topics}).catch(function(t){console.log(t)})}},mounted:function(){this.init()}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserTopic"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"Nav"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:{path:"/",params:{}}}},[t._v("主页")]),t._v(" /\n          "),a("router-link",{attrs:{to:{path:"/user/"+t.user.loginname,params:{}}}},[t._v(t._s(t.user.loginname)+"的主页")])],1)])]),t._v(" "),a("div",{staticClass:"found"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},t._l(t.found,function(e,s){return a("div",{staticClass:"topic"},[a("div",{staticClass:"img"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname,params:{}}}},[a("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})])],1),t._v(" "),a("div",{staticClass:"type"},[t._v("\n            "+t._s(e.tab)+"\n          ")]),t._v(" "),a("div",{staticClass:"title",attrs:{title:e.title}},[a("router-link",{attrs:{to:{path:"/topic/"+e.id,params:{}}}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"banner"},[a("UserInfo",{attrs:{user:t.user,title:"个人信息"}}),t._v(" "),a("CreateTopic")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[e("span",[this._v("最近创建的话题")])])}]};var G=a("C7Lr")(R,q,!1,function(t){a("Dk8a")},null,null).exports,P={name:"User",components:{},data:function(){return{options:[{value:"share",label:"分享"},{value:"ask",label:"问答"},{value:"job",label:"招聘"},{value:"dev",label:"客户端测试"}],accesstoken:"",value:"",title:"",title1:"",title2:"",editorContent:"",select:"",tips:""}},methods:{titleBlur:function(){""==this.title?(this.title1=!0,this.title2=""):this.title.length<10&&this.title?(this.title1="",this.title2=!0):(this.title1="",this.title2="")},submit:function(){var t=this;""==this.value&&(console.log(this.value),this.select=!0),""==this.title&&(this.title1=!0,this.title2=""),""==this.editorContent&&(this.tips=!0),"dev"==this.value&&this.title.length>9&&""!=this.editorContent&&this.axios({method:"POST",url:"https://cnodejs.org/api/v1/topics",data:{accesstoken:this.accesstoken,title:this.title,tab:"dev",content:this.editorContent}}).then(function(e){console.log(e);var a=e.data.topic_id;t.$router.push({path:"/topic/"+a})}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.accesstoken=this.util.getCookie("accesstoken");var e=new b.a("#editor");this.editor=e,e.customConfig.onchange=function(e){t.editorContent=e,t.tips=""},e.create()}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"User"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"Nav"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:{path:"/",params:{}}}},[t._v("主页 ")]),t._v("/\n          "),a("span",[t._v("发布话题")])],1)]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"template"},[t._v("\n          选择版块：\n          "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{blur:function(e){t.select=""}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),""!=t.value&&"dev"!=t.value?a("span",[t._v("*个人练习做的小项目，为了避免污染社区，请选择发布在客户端测试区")]):t._e(),t._v(" "),t.select?a("span",[t._v("*请选择模板")]):t._e()],1),t._v(" "),a("div",{staticClass:"title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",name:"",placeholder:"标题字数 10 字以上"},domProps:{value:t.title},on:{blur:t.titleBlur,input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.title1,expression:"title1"}]},[t._v("*请输入标题")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.title2,expression:"title2"}]},[t._v("*标题字数必须10字以上")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"footbar"},[a("div",{staticClass:"tips"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.tips,expression:"tips"}]},[t._v("*请输入内容")])]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.submit}},[t._v("提  交")])])])])]),t._v(" "),a("div",{staticClass:"banner"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[e("div",{staticStyle:{"text-align":"left"},attrs:{id:"editor"}})])}]};var D=a("C7Lr")(P,O,!1,function(t){a("RiJi")},null,null).exports;s.default.use(o.a);var F=new o.a({routes:[{path:"/",name:"MainPage",component:g},{path:"/topic/:id",name:"Topic",component:y},{path:"/user/:id",name:"User",component:L},{path:"/user/:id/collections",name:"Collection",component:U},{path:"/user/:id/topic",name:"UserTopic",component:G},{path:"/user/:id/replies",name:"UserReplies",component:N},{path:"/createtopic",name:"CreateTopic",component:D}]}),S=a("aozt"),A=a.n(S),M=a("srH3"),H=a.n(M),J=(a("OIlf"),a("3cXf")),z=a.n(J),B=a("hRKE"),X=a.n(B),V={setCookie:function(t,e,a){var s=new Date,i=i||.5,n=e;s.setTime(s.getTime()+864e5*i),"object"==(void 0===e?"undefined":X()(e))&&(n=z()(e)),window.document.cookie=t+"="+n+";path=/;expires="+s.toGMTString()},getCookie:function(t){var e=window.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)"),a=e?e[2]:null;if("string"==typeof a)try{var s=JSON.parse(a);return"object"==(void 0===s?"undefined":X()(s))&&s?s:a}catch(t){return a}},deleteCookie:function(t){this.setCookie(t,"",-1)},formTimeToData:function(t){var e=Date.parse(t)/1e3,a=(new Date).getTime()/1e3-e;return a<60?parseInt(a)+"秒前":a>=60&&a<3600?parseInt(a/60)+" 分钟前":a>=3600&&a<86400?parseInt(a/3600)+"小时前":a>=86400&&a<2592e3?parseInt(a/3600/24)+"天前":a>=2592e3&&a<31104e3?parseInt(a/3600/24/30)+"个月前":a>=31104e3?parseInt(a/3600/24/30/12)+"年前":void 0}},W=a("C7Lr")(V,null,!1,null,null,null).exports;a("7xIN");s.default.config.productionTip=!1,s.default.prototype.axios=A.a,s.default.prototype.util=W,s.default.use(H.a),new s.default({el:"#app",render:function(t){return t(n)},router:F,components:{App:n},template:"<App/>"})},OIlf:function(t,e){},ONy7:function(t,e){},Osxm:function(t,e){},RiJi:function(t,e){},"TO/X":function(t,e){},Wbw8:function(t,e){},ZAek:function(t,e){},lU0O:function(t,e){},xSdq:function(t,e){},yqjL:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0e9fbf38e3e6973bb562.js.map